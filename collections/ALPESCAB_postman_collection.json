{
    "info": {
        "_postman_id": "e6a2b0c1-2f3d-4c5e-8a0b-1d7c4b9e2f8d",
        "name": "Alpescab - Proyecto Sistrans",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseURL",
            "value": "http://localhost:8080",
            "type": "string"
        },
        {
            "key": "clienteId",
            "value": "1",
            "type": "string"
        },
        {
            "key": "conductorId",
            "value": "2",
            "type": "string"
        },
        {
            "key": "vehiculoId",
            "value": "10",
            "type": "string"
        },
        {
            "key": "disponibilidadId",
            "value": "20",
            "type": "string"
        },
        {
            "key": "servicioId",
            "value": "101",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "I. Registro (RF1-RF7, RF10/RF11)",
            "description": "Endpoints para el registro de entidades básicas (Ciudad, Usuarios, Vehículo, Disponibilidad, Puntos Geográficos y Revisiones).",
            "item": [
                {
                    "name": "RF1: Registrar Ciudad",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"nombre\": \"Bogotá\"\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/ciudad",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "ciudad"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF2: Registrar Usuario Cliente",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"nombre\": \"Juan Pérez\",\n  \"correoElectronico\": \"juan.perez@mail.com\",\n  \"numeroCelular\": \"3001234567\",\n  \"numeroCedula\": \"1020304050\",\n  \"tarjetaCredito\": \"1234567890123456\" \n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/usuario/cliente",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "usuario",
                                "cliente"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF3: Registrar Usuario Conductor",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"nombre\": \"Pedro Picapiedra\",\n  \"correoElectronico\": \"pedro.pica@mail.com\",\n  \"numeroCelular\": \"3107654321\",\n  \"numeroCedula\": \"2030405060\"\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/usuario/conductor",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "usuario",
                                "conductor"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF4: Registrar Vehículo (Para {{conductorId}})",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"conductorId\": {{conductorId}}, \n  \"tipo\": \"CARRO\",\n  \"marca\": \"Mazda\",\n  \"modelo\": 2023,\n  \"color\": \"Gris\",\n  \"placa\": \"XYZ987\",\n  \"ciudadExpedicion\": \"Medellín\",\n  \"capacidadPasajeros\": 4\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/vehiculo",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "vehiculo"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF5: Registrar Disponibilidad (Usando DisponibilidadDTO)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"diaSemana\": \"MONDAY\",\n  \"horaInicio\": \"08:00\",\n  \"horaFin\": \"12:00\",\n  \"tipoServicio\": \"Transporte de pasajeros\",\n  \"vehiculoId\": {{vehiculoId}}\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/disponibilidad",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "disponibilidad"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF6: Modificar Disponibilidad ({{disponibilidadId}}) - Usa DTO",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"horaInicio\": \"10:00\",\n  \"horaFin\": \"14:00\"\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/disponibilidad/{{disponibilidadId}}",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "disponibilidad",
                                "{{disponibilidadId}}"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF7: Registrar Punto Geográfico",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"nombre\": \"Universidad de los Andes\",\n  \"direccionAproximada\": \"Carrera 1 # 18A-12\",\n  \"latitud\": 4.601, \n  \"longitud\": -74.066, \n  \"ciudadId\": 1\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/punto",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "punto"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF10/RF11: Registrar Revisión (Usando RevisionDTO)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"servicioId\": {{servicioId}}, \n  \"calificacion\": 5,\n  \"comentario\": \"Excelente servicio, muy amable y rápido.\"\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/registro/revision",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "registro",
                                "revision"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "II. Servicio Transaccional (RF8-RF9)",
            "description": "Endpoints para la solicitud y finalización de servicios, implementados como transacciones.",
            "item": [
                {
                    "name": "RF8: Solicitar Servicio (Transaccional - Usando SolicitudServicioDTO)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"clienteId\": {{clienteId}},\n  \"tipoServicio\": \"Transporte de pasajeros\",\n  \"puntoPartidaId\": 1, \n  \"puntosLlegadaIds\": [2, 3],\n  \"costoEstimado\": 35.5\n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/servicio/solicitar",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "servicio",
                                "solicitar"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RF9: Finalizar Servicio (Transaccional - {{servicioId}})",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"longitudTrayecto\": 15.5 \n}"
                        },
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/servicio/finalizar/{{servicioId}}",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "servicio",
                                "finalizar",
                                "{{servicioId}}"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "III. Consultas (RFC1-RFC4)",
            "description": "Endpoints para los requerimientos funcionales de consulta.",
            "item": [
                {
                    "name": "RFC1: Histórico de Servicios por Usuario ({{clienteId}})",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/consulta/historico/usuario/{{clienteId}}",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "consulta",
                                "historico",
                                "usuario",
                                "{{clienteId}}"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RFC1: Prueba Serializable ({{clienteId}})",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/consulta/historico/usuario/{{clienteId}}/serializable",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "consulta",
                                "historico",
                                "usuario",
                                "{{clienteId}}",
                                "serializable"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RFC1: Prueba Read-Committed ({{clienteId}})",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/consulta/historico/usuario/{{clienteId}}/read-committed",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "consulta",
                                "historico",
                                "usuario",
                                "{{clienteId}}",
                                "read-committed"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RFC2: Top 20 Conductores",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/consulta/top/conductores",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "consulta",
                                "top",
                                "conductores"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RFC3: Ganancias Conductor ({{conductorId}})",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/consulta/ganancias/conductor/{{conductorId}}",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "consulta",
                                "ganancias",
                                "conductor",
                                "{{conductorId}}"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "RFC4: Utilización de Servicios en Ciudad y Rango",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseURL}}/api/alpescab/consulta/utilizacion/Bogota?fechaInicio=2025-10-01&fechaFin=2025-11-30",
                            "host": [
                                "{{baseURL}}"
                            ],
                            "path": [
                                "api",
                                "alpescab",
                                "consulta",
                                "utilizacion",
                                "Bogota"
                            ],
                            "query": [
                                {
                                    "key": "fechaInicio",
                                    "value": "2025-10-01"
                                },
                                {
                                    "key": "fechaFin",
                                    "value": "2025-11-30"
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        }
    ]
}